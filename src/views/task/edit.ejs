<div class="row main-content">
  <div class="container-fluid">
		<div class="row">
      <div class="col-12">
        <h5 class="main-page-title">Edit Volunteer task</h5>
      </div>
    </div>
    <div class="row">
    <div class="col-12">
			<div class="row">
				<div class="col-12 col-lg-10 col-xl-8">
					<div class="innerpage-container">
            <div class="form">
              <form action="/projects/<%=task.project._id%>/tasks/<%=task._id%>?_method=PUT" method="POST">
                <div class="form-group">
                	<label for="task-name"><strong>Task Summary</strong></label>
                	<input id="task-name"class="form-control" type="text" value="<%=task.name%>" name="task[name]"
                	required/>
                </div>
                <div class="form-group">
                    <label for="category"><strong>Select Category</strong></label>
                    <select class="form-control" name='task[category]' id="category">
                      <%
                        let options = ['Uncategorized', 'At Home', 'On-campus', 'Off-campus'];
                        let selected = "";
                        for (let i = 0; i < options.length; i++) {
                          selected = (task.category === options[i]) ? "selected" : ""; %>
                          <option value="<%=options[i]%>" <%=selected%>><%=options[i]%></option>
                      <%}%>
                    </select>
                </div>
                <fieldset class="form-group">
                  <lable><strong>Fixed time?</strong></lable>
                  <div class="form-check">
                    <% checked = (task.isFixedTime == true) ? "checked" : ""; %>
                    <label class="form-check-label">
                      <input type="radio" class="form-check-input" value="true" name="task[isFixedTime]" id="radiosYes" <%=checked%>>
              				Yes
              			</label>
                  </div>
                  <div class="form-check">
                    <% checked = (task.isFixedTime == false) ? "checked" : ""; %>
                  	<label class="form-check-label">
                      <input type="radio" class="form-check-input" value="false" name="task[isFixedTime]" id="radiosNo" <%=checked%>>
              				No
              			</label>
                  </div>
                </fieldset>
                <div class="form-group">
                  <label for="date"><strong>Date or Deadline</strong></label>
                  <input type="text"  class="form-control" id="date-picker" name="task[deadline]" value="<%=("0" + (task.deadline.getMonth()+1)).slice(-2)%>/<%=("0"+task.deadline.getDate()).slice(-2)%>/<%=task.deadline.getFullYear()%>">
                </div>
                <div class="form-group">
                  <label for="from"><strong>Time or From</strong></label>
                  <%
                    fromTime = ""
                    if(task.deadline){
                      fHr = ("0" + task.deadline.getHours()).slice(-2)
                      fMin = ("0" + task.deadline.getMinutes()).slice(-2)
                      fromTime = fHr + ":" + fMin
                    }
                  %>
                  <input type="text"  class="form-control" id="from-time" name="task[deadline]" value="<%=fromTime%>">
                </div>
                <div class="form-group">
                  <label for="to"><strong>To</strong></label>
                  <%
                  endTime = ""
                  if (task.endTime) {
                    hr = ("0" + task.endTime.getHours()).slice(-2);
                    min = ("0"+ task.endTime.getMinutes()).slice(-2)
                    endTime =  hr + ":" + min
                  }
                  %>
                  <input type="text"  class="form-control" id="to-time" name="endTime" value="<%=endTime%>">
                </div>
              	<div class="form-group">
              		<label for="estimated-time"><strong>Estimated Time in minutes</strong></label>
              		<input id="estimated-time" class="form-control" type="number" value="<%=task.volunteerTime%>" name="task[volunteerTime]"/>
              	</div>
                <div class="form-group">
                	<label for="description"><strong>Description</strong></label>
                	<textarea id="description" class="form-control" type="text" rows="10" name="task[description]"><%=task.description%>
                  </textarea>
                </div>

                <div class="form-group">
                    <button class="btn btn-lg btn-success btn-block">Edit</button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
